{% extends 'LeoUserBundle:Default:index.html.twig' %}

{% block body %}
    {{ parent() }}
    <h1>User</h1>

    <table>
        <tbody>
            <tr>
                <th>Id</th>
                <td>{{ user.id }}</td>
            </tr>
            <tr>
                <th>Username</th>
                <td>{{ user.username }}</td>
            </tr>
            <tr>
                <th>Email</th>
                <td>{{ user.email }}</td>
            </tr>{#
            <tr>
                <th>Password</th>
                <td>{{ user.password }}</td>
            </tr>#}
            {%if app.user and is_granted("ROLE_ADMIN") %}
                <tr>
                    <th>Role</th>
                    <td>{{ user.role.role }}</td>
                </tr>
            {% endif %}
        </tbody>
    </table>

    <ul>
        <li>
            <a href="{{ path('user_index') }}"><button>Back to the list</button></a>
        </li>
        {% if (user.role!="ROLE_SUPER_ADMIN") or (user.role=="ROLE_SUPER_ADMIN" and is_granted("ROLE_SUPER_ADMIN"))%}
            <li>
                <a href="{{ path('user_edit', { 'id': user.id }) }}"><button>Edit</button></a>
            </li>
        {%endif%}
        <li>
            <a href="{{ path('user_new') }}"><button>New</button></a>
        </li>
        <li>
            {{ form_start(delete_form) }}
            <input type="submit" value="Delete">
            {{ form_end(delete_form) }}
        </li>
    </ul>
{% endblock %}
